{"ast":null,"code":"import _slicedToArray from\"D:/STUDIA/2_SEMESTR/React/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Clear from\"./image/Clear.png\";import Clouds from\"./image/Clouds.png\";import Drizzle from\"./image/Drizzle.png\";import Mist from\"./image/Mist.png\";import Rain from\"./image/Rain.png\";import Polana from\"./image/polana.png\";import Thunderstorm from\"./image/Thunderstorm.png\";import Snow from\"./image/Snow.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api={key:\"3b5cff616604c3fac74ed40311ad2ce2\",base:\"https://api.openweathermap.org/data/2.5/\"};function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var search=function search(evt){if(evt.key===\"Enter\"){fetch(\"\".concat(api.base,\"weather?q=\").concat(query,\"&units=metric&APPID=\").concat(api.key)).then(function(res){return res.json();}).then(function(result){if(result.cod===\"404\"){setErrorMessage(\"Nie znaleziono miasta\");setData({});}else{setData(result);setErrorMessage('');}setQuery('');});}};var dateBuilder=function dateBuilder(d){var months=[\"Styczeń\",\"Luty\",\"Marzec\",\"Kwiecień\",\"Maj\",\"Czerwiec\",\"Lipiec\",\"Sierpień\",\"Wrzesień\",\"Październik\",\"Listopad\",\"Grudzień\"];var days=[\"Niedziela\",\"Poniedziałek\",\"Wtorek\",\"Środa\",\"Czwartek\",\"Piątek\",\"Sobota\"];var day=days[d.getDay()];var date=d.getDate();var month=months[d.getMonth()];var year=d.getFullYear();return\"\".concat(day,\" \").concat(date,\" \").concat(month,\" \").concat(year);};var backgroundImage=Polana;if(typeof data.weather!==\"undefined\"){switch(data.weather[0].main){case\"Clear\":backgroundImage=Clear;break;case\"Clouds\":backgroundImage=Clouds;break;case\"Drizzle\":backgroundImage=Drizzle;break;case\"Mist\":backgroundImage=Mist;break;case\"Rain\":backgroundImage=Rain;break;case\"Thunderstorm\":backgroundImage=Thunderstorm;break;case\"Snow\":backgroundImage=Snow;break;default:backgroundImage=Polana;}}var weatherTranslations={Clear:\"Słonecznie\",Clouds:\"Pochmurnie\",Drizzle:\"Lekki deszcz\",Mist:\"Mgliście\",Rain:\"Deszczowo\",Thunderstorm:\"Burzowo\",Snow:\"Opady śniegu\"};var getTimeWithTimezone=function getTimeWithTimezone(time,timezone){var localTime=new Date((time+timezone)*1000).toLocaleTimeString('pl-PL',{timeZone:'UTC',hour:'numeric',minute:'numeric'});return localTime;};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",style:{backgroundImage:\"url('\".concat(backgroundImage,\"')\"),backgroundSize:\"cover\",backgroundPosition:\"bottom\"},children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-bar\",placeholder:\"Wpisz miasto\",onChange:function onChange(e){return setQuery(e.target.value);},value:query,onKeyPress:search})}),typeof data.main!==\"undefined\"?/*#__PURE__*/_jsx(\"div\",{className:\"weather-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"location\",children:[data.name,\", \",data.sys.country]}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:dateBuilder(new Date())})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"temp\",children:[Math.round(data.main.temp),\"\\xB0C\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather\",children:weatherTranslations[data.weather[0].main]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pressure\",children:[\"Ci\\u015Bnienie: \",data.main.pressure,\" hPa\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sun\",children:[\"Wsch\\xF3d \",getTimeWithTimezone(data.sys.sunrise,data.timezone)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sun\",children:[\"Zach\\xF3d \",getTimeWithTimezone(data.sys.sunset,data.timezone)]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage})})]})});}export default App;","map":{"version":3,"names":["React","useState","Clear","Clouds","Drizzle","Mist","Rain","Polana","Thunderstorm","Snow","jsx","_jsx","jsxs","_jsxs","api","key","base","App","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","data","setData","_useState5","_useState6","errorMessage","setErrorMessage","search","evt","fetch","concat","then","res","json","result","cod","dateBuilder","d","months","days","day","getDay","date","getDate","month","getMonth","year","getFullYear","backgroundImage","weather","main","weatherTranslations","getTimeWithTimezone","time","timezone","localTime","Date","toLocaleTimeString","timeZone","hour","minute","className","style","backgroundSize","backgroundPosition","children","type","placeholder","onChange","e","target","value","onKeyPress","name","sys","country","Math","round","temp","pressure","sunrise","sunset"],"sources":["D:/STUDIA/2_SEMESTR/React/weather-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Clear from \"./image/Clear.png\";\nimport Clouds from \"./image/Clouds.png\";\nimport Drizzle from \"./image/Drizzle.png\";\nimport Mist from \"./image/Mist.png\";\nimport Rain from \"./image/Rain.png\";\nimport Polana from \"./image/polana.png\";\nimport Thunderstorm from \"./image/Thunderstorm.png\";\nimport Snow from \"./image/Snow.png\";\n\nconst api = {\n  key: \"3b5cff616604c3fac74ed40311ad2ce2\",\n  base: \"https://api.openweathermap.org/data/2.5/\"\n};\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [data, setData] = useState({});\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const search = (evt) => {\n    if (evt.key === \"Enter\") {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`)\n        .then((res) => res.json())\n        .then((result) => {\n          if (result.cod === \"404\") {\n            setErrorMessage(\"Nie znaleziono miasta\");\n            setData({});\n          } else {\n            setData(result);\n            setErrorMessage('');\n          }\n          setQuery('');\n        });\n    }\n  };\n\n  const dateBuilder = (d) => {\n    let months = [\n      \"Styczeń\",\n      \"Luty\",\n      \"Marzec\",\n      \"Kwiecień\",\n      \"Maj\",\n      \"Czerwiec\",\n      \"Lipiec\",\n      \"Sierpień\",\n      \"Wrzesień\",\n      \"Październik\",\n      \"Listopad\",\n      \"Grudzień\"\n    ];\n    let days = [\n      \"Niedziela\",\n      \"Poniedziałek\",\n      \"Wtorek\",\n      \"Środa\",\n      \"Czwartek\",\n      \"Piątek\",\n      \"Sobota\"\n    ];\n\n    let day = days[d.getDay()];\n    let date = d.getDate();\n    let month = months[d.getMonth()];\n    let year = d.getFullYear();\n\n    return `${day} ${date} ${month} ${year}`;\n  };\n\n  let backgroundImage = Polana;\n\n  if (typeof data.weather !== \"undefined\") {\n    switch (data.weather[0].main) {\n      case \"Clear\":\n        backgroundImage = Clear;\n        break;\n      case \"Clouds\":\n        backgroundImage = Clouds;\n        break;\n      case \"Drizzle\":\n        backgroundImage = Drizzle;\n        break;\n      case \"Mist\":\n        backgroundImage = Mist;\n        break;\n      case \"Rain\":\n        backgroundImage = Rain;\n        break;\n      case \"Thunderstorm\":\n        backgroundImage = Thunderstorm;\n        break;\n      case \"Snow\":\n        backgroundImage = Snow;\n        break;\n      default:\n        backgroundImage = Polana;\n    }\n  }\n\n  const weatherTranslations = {\n    Clear: \"Słonecznie\",\n    Clouds: \"Pochmurnie\",\n    Drizzle: \"Lekki deszcz\",\n    Mist: \"Mgliście\",\n    Rain: \"Deszczowo\",\n    Thunderstorm: \"Burzowo\",\n    Snow: \"Opady śniegu\"\n  };\n\n  const getTimeWithTimezone = (time, timezone) => {\n    const localTime = new Date((time + timezone) * 1000).toLocaleTimeString('pl-PL', { timeZone: 'UTC', hour: 'numeric', minute: 'numeric' });\n    return localTime;\n  };\n\n  return (\n    <div\n      className=\"app\"\n      style={{\n        backgroundImage: `url('${backgroundImage}')`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"bottom\"\n      }}\n    >\n      <main>\n        <div className=\"search-box\">\n          <input\n            type=\"text\"\n            className=\"search-bar\"\n            placeholder=\"Wpisz miasto\"\n            onChange={(e) => setQuery(e.target.value)}\n            value={query}\n            onKeyPress={search}\n          />\n        </div>\n        {typeof data.main !== \"undefined\" ? (\n          <div className=\"weather-box\">\n            <div className=\"info\">\n              <div className=\"location-box\">\n                <div className=\"location\">{data.name}, {data.sys.country}</div>\n                <div className=\"date\">{dateBuilder(new Date())}</div>\n              </div>\n              <div className='temp'>{Math.round(data.main.temp)}°C<br /></div>\n              <div className=\"weather\">\n                {weatherTranslations[data.weather[0].main]}\n              </div>\n              <div className=\"pressure\">Ciśnienie: {data.main.pressure} hPa</div>\n              <div className=\"sun\">Wschód {getTimeWithTimezone(data.sys.sunrise, data.timezone)}</div>\n              <div className=\"sun\">Zachód {getTimeWithTimezone(data.sys.sunset, data.timezone)}</div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"message\">\n            <div className=\"error-message\">{errorMessage}</div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}